$(document).ready(function(){
    "use strict";

    // Inițializează plugin-ul Animsition pentru efecte de tranziție între pagini
    $(".animsition").animsition({
        inClass: "fade-in",
        outClass: "fade-out",
        inDuration: 300,
        outDuration: 300,
        linkElement: ".animsition-link",
        loading: true,
        loadingParentElement: "body",
        loadingClass: "animsition-loading",
        unSupportCss: ["animation-duration", "-webkit-animation-duration", "-o-animation-duration"],
        overlay: false,
        overlayClass: "animsition-overlay-slide",
        overlayParentElement: "body"
    });

    // Setează imaginea de fundal pentru elementele cu clasa .bg-image
    $(".bg-image").css("background", function(){
        var a = "url(" + $(this).data("image-src") + ") no-repeat center center";
        return a;
    });
    $(".bg-image").css("background-size", "cover");

    // Inițializează un slider cu id-ul #ex2
    $("#ex2").slider({});

    // Actualizează valoarea slider-ului într-un element când acesta este glisat
    $("#ex2").on("slide", function(a){
        $("#ex2SliderVal").text(a.value);
    });

    // Inițializează plugin-ul Headroom pentru un meniu fix
    var a = document.querySelector("#header");
    var e = new Headroom(a, {
        offset: 80,
        tolerance: 40,
        classes: {
            initial: "animated",
            pinned: "fadeInDown",
            unpinned: "fadeOutUp"
        }
    });
    e.init();
    e.init();

    // Inițializează filtrarea și sortarea elementelor folosind Isotope
    var n = $(".restaurant-listing");
    n.isotope({
        filter: "*",
        animationOptions: {
            duration: 750,
            easing: "linear",
            queue: false
        }
    });
    $("nav.primary ul a").click(function(){
        var a = $(this).attr("data-filter");
        n.isotope({
            filter: a,
            animationOptions: {
                duration: 750,
                easing: "linear",
                queue: false
            }
        });
        return false;
    });

    // Adaugă clasa 'selected' la elementul din meniu selectat și elimină clasa de pe celelalte
    var i = $("nav.primary ul"),
        t = i.find("a");
    t.click(function(){
        var a = $(this);
        if (a.hasClass("selected")) return false;
        var e = a.parents("nav.primary ul");
        e.find(".selected").removeClass("selected");
        a.addClass("selected");
    });

    // Inițializează un slider cu două mânere și afișează valoarea curentă
    $("#slider-range").slider({
        range: true,
        min: 0,
        max: 500,
        values: [75, 300],
        slide: function(a, e){
            $(".minvalue").html("$" + e.values[0]);
            $(".maxvalue").html("$" + e.values[1]);
        }
    });
    $("#amount").val("$" + $("#slider-range").slider("values", 0) + " - $" + $("#slider-range").slider("values", 1));

    // Mărește valoarea unui câmp de intrare la click pe săgeata "sus"
    $(".up").on("click", function(){
        var a = $(this),
            e = a.parent().find("input"),
            n = parseInt(e.val()),
            i = n + 1;
        e.val(i);
    });

    // Scade valoarea unui câmp de intrare la click pe săgeata "jos"
    $(".down").on("click", function(){
        var a = $(this),
            e = a.parent().find("input"),
            n = parseInt(e.val()),
            i = n - 1;
        if (i >= 0) e.val(i);
    });
});
